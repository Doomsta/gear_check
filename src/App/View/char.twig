{% extends "Layout/base.twig" %}
{% block content %}
    <div class="profile">
        <div class="name">
            <a href="http://armory.wow-castle.de/character-sheet.xml?r=WoW-Castle+PvE&amp;cn={{ char.getName }}">{{ char.getName }}</a>
        </div>
        <div class="title-guild">
            <div class="title">
                {% if char.prefix|length > 0 %}{{ char.prefix }}{% endif %}
                {% if char.suffix|length > 0 %}{{ char.suffix }}{% endif %}
            </div>
            {% if char.guild|length > 0 %}
            <div class="guild"><a href="http://armory.wow-castle.de/guild-info.xml?r=WoW-Castle+PvE&amp;gn={{ char.getGuild }}">{{ char.getGuild }}</a></div>
            {% endif %}
        </div>
        <span class="clear"></span>
        <div class="under-name class{$char['classId']}">
		<span class="level">
			<strong>{{ char.getLevel }}</strong>
		</span>
            <span class="race">{{ char.getRace }}</span>
            <span class="class">{{ char.class }}</span>
        </div>
        <div class="average-ilvl" style="width:740px;">
            {{ char.getAvgItemLevel }}
        </div>
    </div>

    <div class="container" style="padding: 20px;">
        <table style="width: 740px; height: 550px; background-image: none;"><!-- /*url(http://eu.battle.net/wow/static/images/2d/profilemain/race/{$char['raceId']}-{$char['genderId']}.jpg)*/">-->
            {% for i in 1..7 %}
            <tr clas="item" style="vertical-align: top;">
                <td>
                   {{ include('Misc/itemLeft.twig', {item: char.getItem(i)}) }}
                </td>
                <td>
                    {{ include('Misc/itemRight.twig', {item: char.getItem(i+8)}) }}
                </td>
            </tr>
            {% endfor %}
            {% for i in 16..18 %}
            <tr>
                <td>
                {{ include('Misc/itemLeft.twig', {item: char.getItem(i)}) }}
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
    <br />

    <div class="progress" style="width: 48%; height: 40px; float:left;">
        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
            <span style="position: absolute; display:block; width:49%; padding-top: 8px; font-size: 14pt;"><strong>{{ char.getStats[1] }}</strong></span>
        </div>
    </div>
    {% if char.getStats[0] > 5000 %}
    <div class="progress" style="width: 48%; height: 40px; float:right;">
        <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
            <span style="position: absolute; display:block; width:49%; padding-top: 8px; font-size: 14pt;"><strong>{{ char.getStats[0] }}</strong></span>
        </div>
    </div>
    {% endif %}
    {% if char.getClass == 4 %}
    <div class="progress" style="width: 48%; height: 40px; float:right;">
        <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
            <span style="position: absolute; display:block; width:49%; padding-top: 8px; font-size: 14pt;"><strong>100</strong></span>
        </div>
    </div>
    {% endif %}
    {% if char.getClass == 1 %}
    <div class="progress" style="width: 48%; height: 40px; float:right;">
        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
            <span style="position: absolute; display:block; width:49%; padding-top: 8px; font-size: 14pt;"><strong>100</strong></span>
        </div>
    </div>
    {% endif %}

    <div style="float: left; width:48%" class="panel panel-default">
        <div class="panel-heading"><strong>Prim√§r</strong></div>
        <table class="table table-striped table-condensed">
            {% for stat in char.getStats %}
            {% if loop.index > 2 and loop.index < 8 %}
            <tr><td>TODO {{ loop.index}}</td><td>{{ stat }}</td></tr>
            {% endif %}
            {% endfor %}
        </table>
    </div>
    <div style="float: right; width:48%" class="panel panel-default">
        <div class="panel-heading"><strong>Sekund&auml;r</strong></div>
        <table class="table table-striped table-condensed">
            {% for stat in char.getStats %}
            {% if loop.index < 0 or loop.index > 7 %}
            {% if loop.index == 37 %}}
            <tr><td>TODO {{ loop.index }}</td><td>{{ stat }} ({floor($stat / 7.688690185546875)})</td></tr>
            {% else %}
            <tr><td>TODO {{ loop.index }}</td><td>{{ stat }}</td></tr>
            {% endif %}
            {% endif %}
            {% endfor %}
        </table>
    </div>
    <div style="float:left; width: 48%" class="panel panel-default">
        <div class="panel-heading"><strong>Sockel</strong></div>
        <ul style="list-style-type: none; padding-left: 8px;">
            {% for id, gem in char.getSockets %}
                <li>
                    {{ gem.count }}x
                    <img src="https://www.linuxlounge.net/~martin/wowimages/?item={{ id }}" class="gem">
                    <a class="q{{ gem.rarity }}" href="http://wotlk.openwow.com/item={{ id }}">
                        {{ gem.name }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div style="float: right; width:48%;" class="panel panel-default">
        <div class="panel-heading"><strong>Berufe</strong></div>
        <table class="table table-striped table-condensed">
            {% for profession in char.getprofessions %}
            <tr><td>
                TODO {{ loop.index }}
                {% if profession.guessed is defined and profession.guessed %}
                <strong>~</strong>
                {% endif %}
                </td><td>{{ profession.val}}/{{ profession.max }}<td></tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}